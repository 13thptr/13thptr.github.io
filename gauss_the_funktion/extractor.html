<!DOCTYPE html>
<html>
<body>
	<canvas id="c1" width="512" height="512">
	</canvas>
	<br>
	<button id="b">Récupérer les coordonnées des points</button>
	<button id="s">Sauvegarder les coordonnées</button>
	<p id="coefs">Coefficients:</p>
	<script src="libcmplx.js"></script>
	<script>
		const x1=c1.getContext`2d`;
		let sorted_coords=[];

		let img=new Image();
		img.src="GAUSS.jpg";
		let largeur=0;
		let hauteur=0;
		img.onload=()=>{
			console.log("chargement...");
			largeur=img.width;
			hauteur=img.height;
			c1.width=largeur;
			c1.height=hauteur;
			x1.drawImage(img,0,0);
			console.log("image chargée !");
		}
		c1.onclick=e=>{
			let X=e.x;
			let Y=e.y;
			X-=7;
			Y-=7;
			x1.beginPath();
			x1.arc(X,Y,3,0,2*Math.PI);
			x1.fill();
			console.log(X,Y);
			sorted_coords.push([X,Y]);
		}
	
		b.onclick=f=>{
			coefs.innerHTML=sorted_coords.toString();
		}
		s.onclick=f=>{
		const link = document.createElement("a");
		// Create a blog object with the file content which you want to add to the file
		const file = new Blob([coefs.innerHTML], { type: 'text/plain' });

		// Add file content in the object URL
		link.href = URL.createObjectURL(file);

		// Add file name
		link.download = "coords.txt";

		// Add click event to <a> tag to save file.
		link.click();
		URL.revokeObjectURL(link.href);
		}

	
		
	
	</script>
</body>
</html>